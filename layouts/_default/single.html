{{ partial "header.html" . }}

<div class="container">
  <article>
    <div class="article-meta">

      <div class="categories">
        {{ range $i, $e := .Params.categories }}
          {{ if $i }} &hercon; {{ end }}<a href="{{ relURL (print "/categories/" $e | urlize) }}">{{ $e }}</a>
        {{ end }}
      </div>

      <h1><span class="title">{{ .Title }}</span></h1>

      {{ if .Params.author }}
        <h3 class="author">{{ partial "author_names.html" . }}</h3>
      {{ end }}

      {{ with .Params.tags }}
        <p>
          {{ default "Tags: " (index $.Site.Params.text "tags") }}
          {{ range $i, $e := . }}
            {{ if $i }}; {{ end }}
            <a href="{{ relURL (print "/tags/" ($e | urlize)) }}">{{ $e }}</a>
          {{ end }}
        </p>
      {{ end }}

      {{ partial "meta.html" . }}
    </div>

    {{ if .Params.toc }}
      {{ .TableOfContents }}
    {{ end }}

    <main>

      {{/* ✅ 본문 상단 대표 이미지 강제 출력 부분 */}}
      {{ with .Params.thumbnail }}
        <div class="single-thumbnail">
          <img src="{{ . | relURL }}" alt="{{ $.Title }}" />
        </div>
      {{ end }}

      {{/* 필요하면 image도 함께 지원 */}}
      {{ if (and (not .Params.thumbnail) .Params.image) }}
        <div class="single-thumbnail">
          <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" />
        </div>
      {{ end }}

      {{ .Content }}
    </main>

    {{ partial "author.html" . }}
    {{ partial "info.html" . }}
    {{ partial "prev_next.html" . }}
    {{ partial "comments.html" . }}
  </article>
</div>

{{ partial "footer.html" . }}
